<div class="container">
  <div class="settings">
    <div class="section">
      <h2>{{ 'COMPONENT.SETTINGS.AUDIO' | transloco }}</h2>
      <div class="flex-item">
        <label for="muted">{{ 'COMPONENT.SETTINGS.MUTE_UI' | transloco }}</label>
        <input 
          type="checkbox"
          id="muted"
          [ngModel]="settings.muted | async"
          (ngModelChange)="settings.muted.next($event)"
        />
      </div>
      <div class="flex-item">
        <label>{{ 'COMPONENT.SETTINGS.UI_VOLUME' | transloco }}</label>
        <input class="volumeSlider" type="range" min="0.0" max="1.0" step="0.1" [ngModel]="settings.volume | async"
               (ngModelChange)="settings.volume.next($event)"
        >
      </div>
    </div>

    <div class="section">
      <h2>{{ 'COMPONENT.SETTINGS.UI' | transloco }}</h2>
      <div class="flex-item">
        <label>{{ 'COMPONENT.SETTINGS.LANGUAGE' | transloco }}</label>
        <app-dropdown class="settings-dropdown" [ngModel]="settings.language | async" (ngModelChange)="settings.language.next($event)">
          <app-dropdown-option *ngFor="let l of availableLanguages" [text]="l.label" [value]="l.id"></app-dropdown-option>
        </app-dropdown>
      </div>
      <div class="flex-item">
        <label for="fontSize">{{ 'COMPONENT.SETTINGS.FONT_SIZE' | transloco }}</label>
        <app-dropdown class="settings-dropdown" [ngModel]="settings.fontSize | async" (ngModelChange)="settings.fontSize.next($event)">
          <app-dropdown-option *ngFor="let l of availableFontSizes" [text]="l.label | transloco" [value]="l.id"></app-dropdown-option>
        </app-dropdown>
      </div>
    </div>

    <div class="section">
      <h2>{{ 'COMPONENT.SETTINGS.PARTY' | transloco }}</h2>
      <div class="flex-item">
        <label for="showParty">{{ 'COMPONENT.SETTINGS.SHOW_PARTY' | transloco }}</label>
        <input 
          type="checkbox"
          id="showParty"
          [ngModel]="settings.isPartyShown | async"
          (ngModelChange)="settings.isPartyShown.next($event)"
        />
      </div>
      <div class="flex-item">
        <label for="autoHideParty">{{ 'COMPONENT.SETTINGS.AUTO_HIDE_PARTY' | transloco }}</label>
        <input 
          type="checkbox"
          id="autoHideParty"
          [ngModel]="settings.autoHideParty | async"
          (ngModelChange)="settings.autoHideParty.next($event)"
        >

      </div>
      <div class="flex-item">
        <label>{{ 'COMPONENT.SETTINGS.AUTO_HIDE_PARTY_LENGTH' | transloco }}</label>
        <div class="radio-group">
          <div>
            <label>{{ 'COMPONENT.SETTINGS.LENGTH' | transloco:{ length: 1 } }}</label>
            <input
              type="radio"
              [value]="1"
              [disabled]="!(settings.autoHideParty | async)"
              [ngModel]="autoHideTime"
              (ngModelChange)="onAutoHideTimeChange($event)"
            >
          </div>
          <div>
            <label>{{ 'COMPONENT.SETTINGS.LENGTH' | transloco:{ length: 3 } }}</label>
            <input
              type="radio"
              [value]="3"
              [disabled]="!(settings.autoHideParty | async)"
              [ngModel]="autoHideTime"
              (ngModelChange)="onAutoHideTimeChange($event)"
            >
          </div>
          <div>
            <label>{{ 'COMPONENT.SETTINGS.LENGTH' | transloco:{ length: 5 } }}</label>
            <input
              type="radio"
              [value]="5"
              [disabled]="!(settings.autoHideParty | async)"
              [ngModel]="autoHideTime"
              (ngModelChange)="onAutoHideTimeChange($event)"
            >
          </div>
        </div>
      </div>
      <div class="flex-item">
        <label>{{ 'COMPONENT.SETTINGS.PARTY_ANCHOR' | transloco }}</label>
        <app-dropdown class="settings-dropdown" [ngModel]="settings.partyAnchor | async" (ngModelChange)="settings.partyAnchor.next($event)">
          <app-dropdown-option *ngFor="let l of availablePartyAnchors" [text]="l.label | transloco" [value]="l.id"></app-dropdown-option>
        </app-dropdown>
      </div>
      <div class="flex-item">
        <label>{{ 'COMPONENT.SETTINGS.PARTY_ANCHOR_OFFSET_X' | transloco }}</label>
        <input type="range" min="0" max="84" step="1" [ngModel]="settings.partyAnchorOffsetX | async"
        (ngModelChange)="settings.partyAnchorOffsetX.next($event)"
        >
      </div>
      <div class="flex-item">
        <label>{{ 'COMPONENT.SETTINGS.PARTY_ANCHOR_OFFSET_Y' | transloco }}</label>
        <input
          type="range" min="2" max="50" step="1" [ngModel]="settings.partyAnchorOffsetY | async"
          (ngModelChange)="settings.partyAnchorOffsetY.next($event)"
        >
      </div>
    </div>

    <div class="section">
      <h2>{{ 'COMPONENT.SETTINGS.DEBUG' | transloco }}</h2>
      <div class="flex-item">
        <label for="showDebug">{{ 'COMPONENT.SETTINGS.SHOW_DEBUG_INFO' | transloco }}</label>
        <input 
          type="checkbox"
          id="showDebug"
          [ngModel]="settings.isDebugShown"
          (ngModelChange)="settings.isDebugShown.next($event)"
        />
      </div>
    </div>
  </div>
</div>

<div class="actions">
  <button data-style-ornament="simple" class="btnCancel" (click)="close()">
    {{ 'COMPONENT.SETTINGS.BACK' | transloco }}
  </button>
</div>
